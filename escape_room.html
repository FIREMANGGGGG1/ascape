<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>חדר הבריחה הדיגיטלי של עזרא גבש</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Arial', sans-serif;
            direction: rtl;
            text-align: center;
            overflow-x: hidden;
        }

        .screen-freeze {
            pointer-events: none;
            opacity: 0.5;
        }

        .welcome-screen {
            min-height: 100vh;
            background: linear-gradient(135deg, #87CEEB 0%, #E6F3FF 50%, #FFFFFF 100%);
            position: relative;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }

        .israeli-flag {
            position: absolute;
            width: 80px;
            height: 60px;
            background: linear-gradient(to bottom, #0038b8 0%, #0038b8 20%, #ffffff 20%, #ffffff 40%, #0038b8 40%, #0038b8 60%, #ffffff 60%, #ffffff 80%, #0038b8 80%, #0038b8 100%);
            border: 2px solid #0038b8;
            animation: wave 3s ease-in-out infinite;
        }

        .flag-1 { top: 50px; left: 50px; }
        .flag-2 { top: 50px; right: 50px; }
        .flag-3 { bottom: 50px; left: 50px; }
        .flag-4 { bottom: 50px; right: 50px; }

        @keyframes wave {
            0%, 100% { transform: rotate(0deg); }
            25% { transform: rotate(5deg); }
            75% { transform: rotate(-5deg); }
        }

        .logo {
            position: absolute;
            top: 30px;
            left: 30px;
            width: 100px;
            height: 100px;
            background: #0038b8;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 24px;
            font-weight: bold;
            border: 4px solid white;
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
        }

        .main-title {
            font-size: 4rem;
            color: #0038b8;
            margin-bottom: 30px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.1);
            animation: glow 2s ease-in-out infinite alternate;
        }

        @keyframes glow {
            from { text-shadow: 2px 2px 4px rgba(0,56,184,0.3); }
            to { text-shadow: 2px 2px 20px rgba(0,56,184,0.6); }
        }

        .subtitle {
            font-size: 1.3rem;
            color: #333;
            max-width: 800px;
            line-height: 1.6;
            margin-bottom: 40px;
            background: rgba(255,255,255,0.8);
            padding: 20px;
            border-radius: 15px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
        }

        .start-button {
            background: linear-gradient(45deg, #ff6b6b, #4ecdc4);
            color: white;
            border: none;
            padding: 20px 40px;
            font-size: 1.5rem;
            border-radius: 50px;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 6px 20px rgba(0,0,0,0.2);
        }

        .start-button:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 25px rgba(0,0,0,0.3);
        }

        .game-screen {
            min-height: 100vh;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            padding: 40px 20px;
            color: white;
            display: none;
        }

        .level-title {
            font-size: 2.5rem;
            margin-bottom: 30px;
            color: #fff;
        }

        .level-content {
            background: rgba(255,255,255,0.1);
            padding: 30px;
            border-radius: 20px;
            margin: 20px auto;
            max-width: 800px;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255,255,255,0.2);
        }

        .hint-button {
            background: #ff6b6b;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 25px;
            cursor: pointer;
            margin: 10px;
            transition: all 0.3s ease;
        }

        .hint-button:hover {
            background: #ff5252;
            transform: scale(1.05);
        }

        .code-input {
            width: 200px;
            padding: 15px;
            font-size: 1.2rem;
            border: 2px solid #fff;
            border-radius: 10px;
            text-align: center;
            margin: 20px;
        }

        .submit-button {
            background: #4ecdc4;
            color: white;
            border: none;
            padding: 15px 30px;
            font-size: 1.2rem;
            border-radius: 10px;
            cursor: pointer;
            margin: 10px;
            transition: all 0.3s ease;
        }

        .submit-button:hover {
            background: #45b7aa;
            transform: scale(1.05);
        }

        .message {
            font-size: 1.2rem;
            margin: 20px 0;
            padding: 15px;
            border-radius: 10px;
        }

        .success {
            background: rgba(76, 175, 80, 0.3);
            border: 2px solid #4caf50;
        }

        .error {
            background: rgba(244, 67, 54, 0.3);
            border: 2px solid #f44336;
        }

        .emoji-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }

        .emoji-item {
            background: rgba(255,255,255,0.1);
            padding: 20px;
            border-radius: 15px;
            border: 1px solid rgba(255,255,255,0.2);
        }

        .emoji-question {
            font-size: 2rem;
            margin-bottom: 10px;
        }

        .emoji-input {
            width: 100%;
            padding: 10px;
            border-radius: 5px;
            border: 1px solid #ccc;
            text-align: center;
        }

        .final-screen {
            min-height: 100vh;
            background: linear-gradient(135deg, #ff9a9e 0%, #fecfef 50%, #fecfef 100%);
            display: none;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            color: #333;
        }

        .celebration {
            font-size: 3rem;
            animation: celebration 2s ease-in-out infinite;
        }

        @keyframes celebration {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.1); }
        }

        .morse-popup {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: white;
            color: black;
            padding: 30px;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
            z-index: 1000;
            display: none;
            max-width: 90%;
        }

        .popup-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.5);
            z-index: 999;
            display: none;
        }

        .close-popup {
            background: #ff6b6b;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
            margin-top: 15px;
        }
    </style>
</head>
<body>
    <!-- Welcome Screen -->
    <div id="welcome-screen" class="welcome-screen">
        <div class="israeli-flag flag-1"></div>
        <div class="israeli-flag flag-2"></div>
        <div class="israeli-flag flag-3"></div>
        <div class="israeli-flag flag-4"></div>
        
        <div class="logo">עזרא</div>
        
        <h1 class="main-title">ברוכים הבאים לחדר הבריחה הדיגיטלי של עזרא גבש</h1>
        
        <p class="subtitle">
            כדי לנצח את חברי השבט שלכם, עליכם יהיה להשיג חמישה קודים שונים ולהיות הראשונים שמכניסים אותם. 
            בכל חידה תקבלו כמות רמזים מסוימת ובעזרתם יהיה עליכם להשיג קוד. 
            אחרי שתמצאו את הקוד יהיה עליכם להכניס אותו לתיבה שכתוב עליה "הכניסו את הקוד", בהצלחה!
        </p>
        
        <button class="start-button" onclick="startGame()">
            יאללה בוא נצא לדרך 🤩
        </button>
    </div>

    <!-- Level 1 -->
    <div id="level1" class="game-screen">
        <h2 class="level-title">חלק ראשון</h2>
        <div class="level-content">
            <h3>שלום! ברוכים הבאים למשימה הראשונה</h3>
            <p>במשימה הזאת יהיה עליכם להשיג קוד בעל חמישה ספרות</p>
            <br>
            <p><strong>הרמז הראשון שלכם הוא:</strong></p>
            <a href="https://youtu.be/4SeQRO9wRsQ" target="_blank" style="color: #4ecdc4; font-size: 1.2rem;">https://youtu.be/4SeQRO9wRsQ</a>
            <br><br>
            <button class="hint-button" onclick="showHint1()">רמז 1</button>
            <br>
            <p><strong>הרמז השני:</strong></p>
            <button class="hint-button" onclick="showMorseCode()">לחץ לרמז בקוד מורס</button>
            <button class="hint-button" onclick="showHint2()">רמז 2</button>
            <br><br>
            <input type="text" id="code1" class="code-input" placeholder="הכניסו את הקוד">
            <br>
            <button class="submit-button" onclick="checkCode(1)">שלח קוד</button>
            <div id="message1" class="message"></div>
        </div>
    </div>

    <!-- Level 2 -->
    <div id="level2" class="game-screen">
        <h2 class="level-title">חלק שני</h2>
        <div class="level-content">
            <p style="font-size: 0.9rem;">ואו כל הכבוד! הצלחתם לעבור את השלב הראשון!!</p>
            <br>
            <p>עכשיו הגעתם לחלק שתיים, פה החלק יהיה קצת יותר קליל, כל מה שעליכם לעשות זה להיכנס לכתבה ולחבר את כל המספרים הכתובים שם:</p>
            <a href="https://www.ynet.co.il/sport/israelisoccer/article/hye64xe7el" target="_blank" style="color: #4ecdc4; font-size: 1.2rem;">קישור לכתבה</a>
            <p>עליכם יהיה לקחת את המספר שיצא לכם (אם יצא נגיד 31.1 זה 311) וזה יהיה הקוד לשלב הזה.</p>
            <br>
            <button class="hint-button" onclick="showHint3()">רמז</button>
            <br><br>
            <input type="text" id="code2" class="code-input" placeholder="הכניסו את הקוד">
            <br>
            <button class="submit-button" onclick="checkCode(2)">שלח קוד</button>
            <div id="message2" class="message"></div>
        </div>
    </div>

    <!-- Level 3 -->
    <div id="level3" class="game-screen">
        <h2 class="level-title">חלק שלישי</h2>
        <div class="level-content">
            <p>בחידה זו תקבלו אימוגים, עליכם להבין במה מדובר ולהקליד את זה, אם הצלחתם להקליד נכון תקבלו מספר שיופיע במסך.</p>
            <div class="emoji-grid">
                <div class="emoji-item">
                    <div class="emoji-question">1️⃣❓</div>
                    <input type="text" class="emoji-input" id="emoji1" placeholder="תשובה">
                    <button class="hint-button" onclick="showEmojiHint(1)">רמז</button>
                    <div id="emoji-result1"></div>
                </div>
                
                <div class="emoji-item">
                    <div class="emoji-question">🏠🔆</div>
                    <input type="text" class="emoji-input" id="emoji2" placeholder="תשובה">
                    <button class="hint-button" onclick="showEmojiHint(2)">רמז</button>
                    <div id="emoji-result2"></div>
                </div>
                
                <div class="emoji-item">
                    <div class="emoji-question">🌽🔥</div>
                    <input type="text" class="emoji-input" id="emoji3" placeholder="תשובה">
                    <button class="hint-button" onclick="showEmojiHint(3)">רמז</button>
                    <div id="emoji-result3"></div>
                </div>
                
                <div class="emoji-item">
                    <div class="emoji-question">👦🏼👦🏼⚡️</div>
                    <input type="text" class="emoji-input" id="emoji4" placeholder="תשובה">
                    <button class="hint-button" onclick="showEmojiHint(4)">רמז</button>
                    <div id="emoji-result4"></div>
                </div>
                
                <div class="emoji-item">
                    <div class="emoji-question">🌊🥛😢❌</div>
                    <input type="text" class="emoji-input" id="emoji5" placeholder="תשובה">
                    <button class="hint-button" onclick="showEmojiHint(5)">רמז</button>
                    <div id="emoji-result5"></div>
                </div>
            </div>
            <br>
            <p>אספו את המספרים שקיבלתם לקוד אחד:</p>
            <input type="text" id="code3" class="code-input" placeholder="הכניסו את הקוד">
            <br>
            <button class="submit-button" onclick="checkCode(3)">שלח קוד</button>
            <div id="message3" class="message"></div>
        </div>
    </div>

    <!-- Level 4 -->
    <div id="level4" class="game-screen">
        <h2 class="level-title">חלק רביעי</h2>
        <div class="level-content">
            <div style="font-size: 1.5rem; line-height: 2;">
                <p>אם 8+1=79</p>
                <p>6+5 = 111</p>
                <p>4+2 = 26</p>
                <p><strong>אז כמה שווה 7+3?</strong></p>
            </div>
            <br>
            <button class="hint-button" onclick="showHint4()">רמז</button>
            <br><br>
            <input type="text" id="code4" class="code-input" placeholder="הכניסו את הקוד">
            <br>
            <button class="submit-button" onclick="checkCode(4)">שלח קוד</button>
            <div id="message4" class="message"></div>
        </div>
    </div>

    <!-- Level 5 -->
    <div id="level5" class="game-screen">
        <h2 class="level-title">חלק חמישי</h2>
        <div class="level-content">
            <div style="font-size: 1.3rem; line-height: 1.8;">
                <p>🥕 + 🥕 + 🥕 = 18</p>
                <p>🥝 + 🥝 + 🥝 + 🥕 = 12</p>
                <p>🌽 x 🌽 = 81</p>
                <p>🍈 x 🍈 = 25</p>
                <p>🥦 + 🥦 + 🥦 = 21</p>
                <p>🥦 + 🍆 + 🍈 = 17</p>
                <p>🥑 + 🥑 + 🥑 = 27</p>
                <p>🍌 x 🍌 = 49</p>
                <p><strong>🍌 + 🥑 + 🍆 + 🥦 + 🍈 + 🌽 + 🥕 + 🥝 = ?</strong></p>
            </div>
            <br>
            <input type="text" id="code5" class="code-input" placeholder="הכניסו את הקוד">
            <br>
            <button class="submit-button" onclick="checkCode(5)">שלח קוד</button>
            <div id="message5" class="message"></div>
        </div>
    </div>

    <!-- Final Screen -->
    <div id="final-screen" class="final-screen">
        <div class="celebration">
            <h1>כל הכבוד! ניצחתם ופתרתם את החידה!!! אלופים! 🎊🎉</h1>
        </div>
    </div>

    <!-- Morse Code Popup -->
    <div class="popup-overlay" id="popup-overlay" onclick="closeMorsePopup()"></div>
    <div class="morse-popup" id="morse-popup">
        <h3>הרמז השני - קוד מורס:</h3>
        <p style="font-size: 1.5rem; font-family: monospace; direction: ltr; text-align: center;">
            --- -- -.-. .--. .-. / --- -. . - .-. / --- . .- / .- .-. -... .---
        </p>
        <p>(מימין לשמאל)</p>
        <button class="close-popup" onclick="closeMorsePopup()">סגור</button>
    </div>

    <script>
        let currentLevel = 0;
        let emojiAnswers = [false, false, false, false, false];
        let emojiNumbers = [3, 4, 7, 8, 1];
        
        function startGame() {
            document.getElementById('welcome-screen').style.display = 'none';
            document.getElementById('level1').style.display = 'block';
            currentLevel = 1;
        }

        function freezeScreen(seconds) {
            document.body.classList.add('screen-freeze');
            setTimeout(() => {
                document.body.classList.remove('screen-freeze');
            }, seconds * 1000);
        }

        function showHint1() {
            freezeScreen(5);
            alert('יש מספרים על המסך שימו לב איפה הם');
        }

        function showHint2() {
            freezeScreen(10);
            window.open('https://charactercalculator.com/he/morse-code-translator/', '_blank');
        }

        function showHint3() {
            freezeScreen(20);
            alert('גם אחד זה מספר, ולא רק 1.. 🙃');
        }

        function showHint4() {
            freezeScreen(10);
            alert('8-1=7..');
        }

        function showMorseCode() {
            document.getElementById('popup-overlay').style.display = 'block';
            document.getElementById('morse-popup').style.display = 'block';
        }

        function closeMorsePopup() {
            document.getElementById('popup-overlay').style.display = 'none';
            document.getElementById('morse-popup').style.display = 'none';
        }

        function showEmojiHint(num) {
            freezeScreen(5);
            const hints = [
                'קשור לחג הפסח',
                'עיר',
                'ספר ילדים',
                'עיר בארץ',
                'לא.. שנפשך'
            ];
            alert(hints[num - 1]);
        }

        function checkEmojiAnswer(num, answer) {
            const correctAnswers = [
                'אחד מי יודע',
                'בית שמש',
                'תירס חם',
                'בני ברק',
                'לא בוכים על חלב שנשפך'
            ];
            
            if (answer.trim() === correctAnswers[num - 1]) {
                emojiAnswers[num - 1] = true;
                document.getElementById(`emoji-result${num}`).innerHTML = 
                    `<p style="color: #4caf50;">נכון! המספר שלך: ${emojiNumbers[num - 1]}</p>`;
                return true;
            }
            return false;
        }

        // Check emoji answers in real time
        for (let i = 1; i <= 5; i++) {
            document.getElementById(`emoji${i}`).addEventListener('input', function() {
                checkEmojiAnswer(i, this.value);
            });
        }

        function checkCode(level) {
            const codes = ['', '9354', '635', '34781', '410', '50'];
            const input = document.getElementById(`code${level}`).value.trim();
            const messageDiv = document.getElementById(`message${level}`);
            
            if (input === codes[level]) {
                messageDiv.innerHTML = '<div class="success">נכון! עוברים לשלב הבא!</div>';
                setTimeout(() => {
                    document.getElementById(`level${level}`).style.display = 'none';
                    if (level < 5) {
                        document.getElementById(`level${level + 1}`).style.display = 'block';
                        currentLevel = level + 1;
                    } else {
                        document.getElementById('final-screen').style.display = 'flex';
                    }
                }, 2000);
            } else {
                messageDiv.innerHTML = '<div class="error">קוד שגוי, נסו שוב!</div>';
            }
        }
    </script>
</body>
</html>